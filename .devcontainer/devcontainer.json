// For format details, see https://aka.ms/devcontainer.json. For config options, see the
// README at: https://github.com/devcontainers/templates/tree/main/src/php
{
	"name": "DEV-ResearchCruiseApp",
	"build": {
		"dockerfile": "Dockerfile",
		"context": ".."
	},
	"features": {
		"ghcr.io/devcontainers/features/docker-in-docker:2": {
			"moby": false,
			"azureDnsAutoDetection": false
		}
	},
	"containerEnv": {
		"DO_NOT_TRACK": "1",
		"DOTNET_CLI_TELEMETRY_OPTOUT": "1",
		"TURBO_TELEMETRY_DISABLED": "1"
	},
	"customizations": {
		"vscode": {
			"extensions": [
				"hverlin.mise-vscode",
				"ahmadalli.vscode-nginx-conf",
				"csharpier.csharpier-vscode",
				"ms-dotnettools.csharp",
				"ms-playwright.playwright",
				"tamasfe.even-better-toml",
				// "TypeScriptTeam.native-preview",
				"oxc.oxc-vscode",
				"vitest.explorer",
				"Anthropic.claude-code",
				"bradlc.vscode-tailwindcss",
				// "stivo.tailwind-fold",
				"Graphite.gti-vscode",
				"bierner.markdown-mermaid",
				"yzhang.markdown-all-in-one",
				"CodeRabbit.coderabbit-vscode",
				"tamasfe.even-better-toml",
				"openai.chatgpt",
				"sst-dev.opencode",
				"docker.docker"
			]
		}
	},
	"onCreateCommand": "(rm .mise-setup-done || true) && mise trust && mise install && (cd frontend && mise exec bun@latest -- bun install)"
}