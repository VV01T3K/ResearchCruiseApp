{
  "$schema": "./node_modules/oxlint/configuration_schema.json",
  "plugins": [
    "eslint",
    "typescript",
    "unicorn",
    "react",
    "react-perf",
    "oxc",
    "import",
    "jsx-a11y",
    "promise",
    "vitest"
  ],
  "jsPlugins": [
    // NOTE: Only CJS plugins work here — ESM-only packages silently fail
    // @eslint-react and eslint-plugin-storybook are ESM-only → handled in eslint.config.ts instead
    "@tanstack/eslint-plugin-query"
  ],
  "categories": {
    "correctness": "error",
    "suspicious": "warn"
  },
  "env": {
    "builtin": true,
    "browser": true
  },
  "rules": {
    // TanStack Query
    "@tanstack/query/exhaustive-deps": "error",
    "@tanstack/query/no-rest-destructuring": "warn",
    "@tanstack/query/stable-query-client": "error",
    "@tanstack/query/no-unstable-deps": "warn",
    "@tanstack/query/infinite-query-property-order": "error",
    "@tanstack/query/no-void-query-fn": "error",
    "@tanstack/query/mutation-property-order": "error",
    // React
    "react/react-in-jsx-scope": "off",
    // TanStack Form uses children as a render prop (Field children={fn}) - this is intentional API usage
    "react/no-children-prop": "off",
    "react/only-export-components": [
      "error",
      {
        "allowConstantExport": true
      }
    ],
    // React hooks (native oxlint rules)
    "react-hooks/rules-of-hooks": "error",
    "react-hooks/exhaustive-deps": "warn",
    // Accessibility - TanStack Router uses "to" not "href"
    "jsx-a11y/anchor-is-valid": "off",
    "jsx-a11y/click-events-have-key-events": "warn",
    "jsx-a11y/label-has-associated-control": "off",
    // TypeScript
    "@typescript-eslint/no-explicit-any": "error",
    "@typescript-eslint/no-deprecated": "warn",
    "@typescript-eslint/no-unsafe-type-assertion": "warn",
    "@typescript-eslint/no-floating-promises": "off",
    // Import
    // CSS/polyfill side-effect imports are intentional
    "import/no-unassigned-import": "off",
    // ESLint core
    "no-var": "error",
    "prefer-const": "error",
    "no-console": "warn",
    "no-duplicate-imports": "error"
  },
  "overrides": [
    {
      // Playwright fixtures use a `use` function that looks like a React hook but isn't
      "files": ["tests/**"],
      "rules": {
        "react-hooks/rules-of-hooks": "off"
      }
    }
  ],
  "settings": {
    "jsx-a11y": {
      "polymorphicPropName": "as"
    },
    "vitest": {
      "typecheck": true
    }
  },
  "ignorePatterns": [
    "dist",
    "node_modules",
    "test-results/",
    "playwright-report/",
    "blob-report/",
    ".output",
    "**/*.gen.*",
    ".claude/**",
    ".agents/**",
    ".cursor/**",
    ".turbo",
    "**/routeTree.gen.ts",
    "**/bun.lock",
    // "**/_generated/**",
    "eslint.config.ts"
  ]
}
